{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/sumit/Documents/Projects/Plex/client/src/components/Video/Video.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport io from \"socket.io-client\";\nimport ReactPlayer from 'react-player';\nconst ENDPOINT = 'localhost:5000';\nconst socket = io(ENDPOINT);\n\nconst Video = ({\n  playerRef,\n  playerInfo,\n  setPlayerInfo\n}) => {\n  _s();\n\n  const time = useRef(null); // const seek = useRef(0);\n  // const currtime = time.current.getCurrentTime();\n  // SetPlayerState = currtime;\n\n  useEffect(() => {//  time.current = time.getCurrentTime();\n    // console.log(time.current.getCurrentTime());\n  }, []); // useEffect(()=> {\n  //  socket.emit('newuser',{\n  //      SetPlayerState = time.current.getCurrentTime()     \n  //  })   \n  // },)\n\n  const getTime = () => {\n    console.log(time.current.getCurrentTime());\n  }; // const SeekTo =()=> {\n  //     playerRef.current.seekTo(PlayerState,'seconds'); \n  // }\n\n\n  const HandlePlayPause = playing => {\n    setPlayerInfo(prev => ({ ...prev,\n      playing,\n      time: playerRef.current.getCurrentTime()\n    }));\n  };\n\n  useEffect(() => {\n    if (playerInfo.seeking) playerRef.current.seekTo(playerInfo.time);\n    setPlayerInfo(prev => ({ ...prev,\n      seeking: false\n    }));\n  }, [playerInfo.seeking]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"VideoContainer\",\n    children: /*#__PURE__*/_jsxDEV(ReactPlayer, {\n      url: playerInfo.url,\n      playing: playerInfo.playing,\n      controls: true,\n      ref: playerRef,\n      height: \"100vh\",\n      width: \"80vw\",\n      onPlay: () => {\n        HandlePlayPause(true);\n      },\n      onPause: () => {\n        HandlePlayPause(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Video, \"1ZPtM4+QzaFjorhLJCQd0lu5E/g=\");\n\n_c = Video;\nexport default Video;\n\nvar _c;\n\n$RefreshReg$(_c, \"Video\");","map":{"version":3,"sources":["/home/sumit/Documents/Projects/Plex/client/src/components/Video/Video.js"],"names":["React","useState","useEffect","useRef","io","ReactPlayer","ENDPOINT","socket","Video","playerRef","playerInfo","setPlayerInfo","time","getTime","console","log","current","getCurrentTime","HandlePlayPause","playing","prev","seeking","seekTo","url"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAA0BC,SAA1B,EAAsCC,MAAtC,QAAoD,OAApD;AAEA,OAAOC,EAAP,MAAe,kBAAf;AAIA,OAAOC,WAAP,MAAwB,cAAxB;AACA,MAAMC,QAAQ,GAAG,gBAAjB;AAEA,MAAOC,MAAM,GAAGH,EAAE,CAACE,QAAD,CAAlB;;AAEA,MAAME,KAAK,GAAG,CAAE;AAAGC,EAAAA,SAAH;AAAcC,EAAAA,UAAd;AAA0BC,EAAAA;AAA1B,CAAF,KAAgD;AAAA;;AAE1D,QAAMC,IAAI,GAAGT,MAAM,CAAC,IAAD,CAAnB,CAF0D,CAG1D;AAGA;AACA;;AAEAD,EAAAA,SAAS,CAAC,MAAI,CACV;AACA;AAEH,GAJQ,EAIP,EAJO,CAAT,CAT0D,CAe1D;AACA;AACA;AACA;AACA;;AAEA,QAAMW,OAAO,GAAG,MAAM;AAClBC,IAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACI,OAAL,CAAaC,cAAb,EAAZ;AACH,GAFD,CArB0D,CA0B1D;AACA;AACA;;;AAEA,QAAMC,eAAe,GAAIC,OAAD,IAAY;AAChCR,IAAAA,aAAa,CAAES,IAAD,KAAS,EACnB,GAAGA,IADgB;AACXD,MAAAA,OADW;AACHP,MAAAA,IAAI,EAACH,SAAS,CAACO,OAAV,CAAkBC,cAAlB;AADF,KAAT,CAAD,CAAb;AAIH,GALD;;AAOAf,EAAAA,SAAS,CAAC,MAAI;AACV,QAAGQ,UAAU,CAACW,OAAd,EAAuBZ,SAAS,CAACO,OAAV,CAAkBM,MAAlB,CAAyBZ,UAAU,CAACE,IAApC;AACvBD,IAAAA,aAAa,CAACS,IAAI,KAAG,EACjB,GAAGA,IADc;AACRC,MAAAA,OAAO,EAAE;AADD,KAAH,CAAL,CAAb;AAGH,GALQ,EAKN,CAACX,UAAU,CAACW,OAAZ,CALM,CAAT;AAQA,sBAEA;AAAK,IAAA,SAAS,EAAG,gBAAjB;AAAA,2BACI,QAAC,WAAD;AAAa,MAAA,GAAG,EAAGX,UAAU,CAACa,GAA9B;AAAoC,MAAA,OAAO,EAAEb,UAAU,CAACS,OAAxD;AAAiE,MAAA,QAAQ,EAAE,IAA3E;AAAiF,MAAA,GAAG,EAAIV,SAAxF;AAAmG,MAAA,MAAM,EAAC,OAA1G;AAAkH,MAAA,KAAK,EAAC,MAAxH;AACA,MAAA,MAAM,EAAE,MAAI;AAACS,QAAAA,eAAe,CAAC,IAAD,CAAf;AAAsB,OADnC;AAEA,MAAA,OAAO,EAAE,MAAI;AAACA,QAAAA,eAAe,CAAC,KAAD,CAAf;AAAuB;AAFrC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UAFA;AAkBH,CA/DD;;GAAMV,K;;KAAAA,K;AAiEN,eAAeA,KAAf","sourcesContent":["import React, {useState , useEffect , useRef } from 'react'; \n\nimport io from \"socket.io-client\";\n\n\n\nimport ReactPlayer from 'react-player';\nconst ENDPOINT = 'localhost:5000';\n\nconst  socket = io(ENDPOINT);\n\nconst Video = ( {  playerRef, playerInfo, setPlayerInfo }) => {\n\n    const time = useRef(null);\n    // const seek = useRef(0);\n\n\n    // const currtime = time.current.getCurrentTime();\n    // SetPlayerState = currtime;\n     \n    useEffect(()=>{\n        //  time.current = time.getCurrentTime();\n        // console.log(time.current.getCurrentTime());\n\n    },[]);\n\n    // useEffect(()=> {\n    //  socket.emit('newuser',{\n    //      SetPlayerState = time.current.getCurrentTime()     \n    //  })   \n    // },)\n\n    const getTime = () => {\n        console.log(time.current.getCurrentTime());\n    }\n    \n    \n    // const SeekTo =()=> {\n    //     playerRef.current.seekTo(PlayerState,'seconds'); \n    // }\n\n    const HandlePlayPause = (playing)=> {\n        setPlayerInfo((prev)=>({\n            ...prev,playing,time:playerRef.current.getCurrentTime()\n        })\n        )\n    }\n\n    useEffect(()=>{\n        if(playerInfo.seeking) playerRef.current.seekTo(playerInfo.time);\n        setPlayerInfo(prev=>({\n            ...prev, seeking: false\n        }));\n    }, [playerInfo.seeking])\n\n    \n    return(\n    \n    <div className = \"VideoContainer\">\n        <ReactPlayer url={ playerInfo.url } playing={playerInfo.playing} controls={true} ref = {playerRef} height=\"100vh\" width=\"80vw\"\n        onPlay={()=>{HandlePlayPause(true)}}\n        onPause={()=>{HandlePlayPause(false)} }\n        />\n\n        {/* <button onClick= {getTime}>Click  </button> */}\n        {/* <button onClick= {SeekTo}>Click  </button> */}\n        {/* Seekto(); */}\n\n        \n        {/* <button onClick= {()=> console.log(URL)}>Click Video.js </button>  */}\n        \n    </div>\n\n    );\n} \n\nexport default Video ;"]},"metadata":{},"sourceType":"module"}